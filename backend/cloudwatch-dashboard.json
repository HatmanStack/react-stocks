{
  "widgets": [
    {
      "type": "metric",
      "x": 0,
      "y": 0,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Cache Hit Rate",
        "metrics": [
          ["ReactStocks", "CacheHitRate", { "stat": "Average", "label": "Cache Hit Rate (%)" }]
        ],
        "period": 300,
        "stat": "Average",
        "region": "us-east-1",
        "yAxis": {
          "left": {
            "min": 0,
            "max": 100
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 0,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Lambda Duration (ms)",
        "metrics": [
          ["AWS/Lambda", "Duration", { "stat": "Average", "label": "Avg Duration" }],
          ["...", { "stat": "Maximum", "label": "Max Duration" }],
          ["...", { "stat": "p99", "label": "P99 Duration" }]
        ],
        "period": 300,
        "stat": "Average",
        "region": "us-east-1",
        "yAxis": {
          "left": {
            "label": "ms"
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 6,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "DynamoDB Consumed Read Capacity",
        "metrics": [
          ["AWS/DynamoDB", "ConsumedReadCapacityUnits", { "stat": "Sum", "label": "StocksCache" }, { "TableName": "StocksCache" }],
          ["...", { "TableName": "NewsCache" }],
          ["...", { "TableName": "SentimentCache" }],
          ["...", { "TableName": "SentimentJobs" }]
        ],
        "period": 300,
        "stat": "Sum",
        "region": "us-east-1"
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 6,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "DynamoDB Consumed Write Capacity",
        "metrics": [
          ["AWS/DynamoDB", "ConsumedWriteCapacityUnits", { "stat": "Sum", "label": "StocksCache" }, { "TableName": "StocksCache" }],
          ["...", { "TableName": "NewsCache" }],
          ["...", { "TableName": "SentimentCache" }],
          ["...", { "TableName": "SentimentJobs" }]
        ],
        "period": 300,
        "stat": "Sum",
        "region": "us-east-1"
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 6,
      "width": 8,
      "height": 6,
      "properties": {
        "title": "Lambda Errors & Throttles",
        "metrics": [
          ["AWS/Lambda", "Errors", { "stat": "Sum", "label": "Errors", "color": "#d62728" }],
          [".", "Throttles", { "stat": "Sum", "label": "Throttles", "color": "#ff7f0e" }]
        ],
        "period": 300,
        "stat": "Sum",
        "region": "us-east-1",
        "yAxis": {
          "left": {
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 12,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "API Gateway Requests",
        "metrics": [
          ["AWS/ApiGateway", "Count", { "stat": "Sum", "label": "Total Requests" }],
          [".", "4XXError", { "stat": "Sum", "label": "4XX Errors", "color": "#ff7f0e" }],
          [".", "5XXError", { "stat": "Sum", "label": "5XX Errors", "color": "#d62728" }]
        ],
        "period": 300,
        "stat": "Sum",
        "region": "us-east-1"
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 12,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Lambda Invocations",
        "metrics": [
          ["AWS/Lambda", "Invocations", { "stat": "Sum", "label": "Total Invocations" }],
          [".", "ConcurrentExecutions", { "stat": "Maximum", "label": "Max Concurrent" }]
        ],
        "period": 300,
        "stat": "Sum",
        "region": "us-east-1"
      }
    }
  ]
}
